-- vim: ft=sql expandtab
-- Check nullability of divs

DEFINE f1 AS
  SELECT
    COALESCE(
      RANDOM / RANDOM,  -- must be nullable
      1 / 2             -- must not be nullable
    ) AS v1,
    COALESCE(
      RANDOM / RANDOM,  -- must be nullable
      RANDOM / 2        -- must not be nullable
    ) AS v2,
    COALESCE(
      RANDOM / RANDOM,  -- must be nullable
      1 / RANDOM        -- must not be nullable
    ) AS v3,
    0. / 0. AS v4,      -- must be Null
    COALESCE(
      v1 / v2,          -- must be nullable (Ramen is not smart enough)
      42
    ) AS v5
  EVERY 1s;
